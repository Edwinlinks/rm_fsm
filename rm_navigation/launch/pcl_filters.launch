<launch>

    <node pkg="nodelet" type="nodelet" name="pcl_manager" args="manager" output="screen"/>

    <node pkg="nodelet" type="nodelet" name="voxel_grid" args="load pcl/VoxelGrid pcl_manager" output="screen">
        <remap from="~input" to="/octomap_point_cloud_centers"/>
        <rosparam>
            filter_field_name: z
            filter_limit_min: 0.01
            filter_limit_max: 0.8
            filter_limit_negative: False
            leaf_size: 0.01
        </rosparam>
    </node>

    <node pkg="nodelet" type="nodelet" name="pass_through" args="load pcl/PassThrough /pcl_manager" output="screen">
        <remap from="~input" to="/voxel_grid/output"/>
        <rosparam>
            input_frame: table_frame
            filter_field_name: y
            filter_limit_min: 0.01
            filter_limit_max: 0.5
        </rosparam>
        <param if="$(eval source=='realsense')" name="filter_limit_negative" value="true"/>
    </node>

    <node pkg="nodelet" type="nodelet" name="cutoff" args="load pcl/StatisticalOutlierRemoval /pcl_manager"
          output="screen">
        <remap from="~input" to="/pass_through/output"/>
        <rosparam>
            mean_k: 10
            stddev: 0.01
        </rosparam>
    </node>

</launch>